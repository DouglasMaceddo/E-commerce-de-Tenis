<ion-header [translucent]="true"></ion-header>
<ion-toolbar class="corpadrao">
  <ion-menu-button slot="start"></ion-menu-button>
  <ion-title class="titulo">Minha Conta</ion-title>
  <ion-buttons slot="end">
    <ion-button (click)="voltar()">Voltar</ion-button>
  </ion-buttons>
</ion-toolbar>


<ion-content>
  <ion-card>
    <ion-card-header>
      <ion-card-title class="titulo">Informações da Conta</ion-card-title>
    </ion-card-header>
    <ion-card-content>
      <p><strong>CPF: </strong>{{ infoUsuario.cpf }}</p>
      <p><Strong>Nome: </Strong>{{ infoUsuario.name }}</p>
      <p><Strong>Email: </Strong>{{ infoUsuario.email }}</p>
      <p><Strong>Telefone: </Strong>{{ infoUsuario.telefone }}</p>
    </ion-card-content>
  </ion-card>
  <ion-card>
    <ion-card-header>
      <ion-card-title class="titulo">Endereço Cadastrado</ion-card-title>
    </ion-card-header>
    <ion-list>
      <ion-item *ngFor="let endereco of enderecos">
        <ion-label>
          <p><Strong>CEP: </Strong>{{ endereco.cep }}</p>
          <p><Strong>Rua: </Strong>{{ endereco.rua }}</p>
          <p><Strong>Bairro: </Strong>{{ endereco.bairro }}</p>
          <p><Strong>Complemento: </Strong>{{ endereco.complemento }}</p>
          <p><Strong>Cidade: </Strong>{{ endereco.cidade }}</p>
          <p><Strong>Estado: </Strong>{{ endereco.estado }}</p>
        </ion-label>
      </ion-item>
    </ion-list>
    <div class="oi">
      <ion-note *ngIf="enderecos.length === 0" class="oi">Nenhum endereço cadastrado</ion-note>
    </div>
  </ion-card>
  <ion-card>
    <ion-card-header>
      <ion-card-title class="titulo">Cadastro de Endereço</ion-card-title>
    </ion-card-header>

    <ion-card-content>
      <form [formGroup]="addressForm" (ngSubmit)="onSubmit()">

        <ion-input type="text" label="CEP" label-placement="floating" fill="outline" placeholder="Digite seu CEP"
          formControlName="CEP" (ionBlur)="buscarEnderecoPorCEP()" appCepMask aria-label="CEP" required>
        </ion-input>

        <ion-input type="text" label="Rua" label-placement="floating" fill="outline" placeholder="Rua nova"
          formControlName="Rua" required aria-label="Rua">
        </ion-input>

        <ion-input type="text" label="Bairro" label-placement="floating" fill="outline" placeholder="Seu bairro"
          formControlName="Bairro" required aria-label="Bairro">
        </ion-input>

        <ion-input type="text" label="Complemento" label-placement="floating" fill="outline" placeholder="Complemento"
          formControlName="Complemento" required aria-label="Complemento">
        </ion-input>

        <ion-input type="text" label="Cidade" label-placement="floating" fill="outline" placeholder="Sua Cidade"
          formControlName="Cidade" required aria-label="Cidade">
        </ion-input>

        <ion-input type="text" label="Estado" label-placement="floating" fill="outline" placeholder="Seu Estado"
          formControlName="Estado" required aria-label="Estado">
        </ion-input>

        <ion-button class="corpadrao" expand="full" type="submit" [disabled]="addressForm.invalid">Atualizar Endereço
        </ion-button>
      </form>
    </ion-card-content>
  </ion-card>
  <ion-footer>
    <ion-card>
      <ion-button expand="full" color="danger" (click)="sairConta()">Sair da conta</ion-button>
    </ion-card>
  </ion-footer>
</ion-content>